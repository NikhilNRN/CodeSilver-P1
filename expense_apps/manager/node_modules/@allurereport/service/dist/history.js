import { KnownError } from "./utils/http.js";
export class AllureRemoteHistory {
    constructor(allureServiceClient, branch) {
        this.allureServiceClient = allureServiceClient;
        this.branch = branch;
    }
    async readHistory() {
        if (!this.branch) {
            return [];
        }
        try {
            const res = await this.allureServiceClient.downloadHistory(this.branch);
            return res;
        }
        catch (err) {
            if (err instanceof KnownError && err.status === 404) {
                return [];
            }
            throw err;
        }
    }
    async appendHistory() {
    }
}
